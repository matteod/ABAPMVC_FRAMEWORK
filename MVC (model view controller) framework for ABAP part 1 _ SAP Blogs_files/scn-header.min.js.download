var sharedUi=window.sharedUi||{};!function(a){var b=a.Utils=a.Utils||{};b.domReady=function(a){var b=!1,c=function(){b||(b=!0,a())};"complete"===document.readyState?window.setTimeout(c,1):(document.addEventListener("DOMContentLoaded",c),window.addEventListener("load",c))},b.setCookie=function(a,b,c){c=c||{};var d=c.expires;if("number"==typeof d&&d){var e=new Date;e.setTime(e.getTime()+1e3*d),d=c.expires=e}d&&d.toUTCString&&(c.expires=d.toUTCString()),b=encodeURIComponent(b);var f=a+"="+b;for(var g in c){f+="; "+g;var h=c[g];!0!==h&&(f+="="+h)}document.cookie=f},b.getCookie=function(a){var b=document.cookie.match(new RegExp("(?:^|; )"+a.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return b?decodeURIComponent(b[1]):void 0},b.deleteCookie=function(a,b){var c=b||{};c.expires=-1,this.setCookie(a,"",c)},b.hasClass=function(a,b){return a.classList?a.classList.contains(b):a.className&&new RegExp("(^|\\s)"+b+"(\\s|$)").test(a.className)},b.addClass=function(a,c){a.classList?a.classList.add(c):b.hasClass(a,c)||(a.className+=" "+c)},b.removeClass=function(a,c){a.classList?a.classList.remove(c):b.hasClass(a,c)&&(a.className=a.className.replace(new RegExp("(\\s|^)"+c+"(\\s|$)")," "))},b.replaceClass=function(a,c,d){b.removeClass(a,c),b.addClass(a,d)},b.getUrlParts=function(a){var b=new RegExp(["^(https?:)//","(([^:/?#]*)(?::([0-9]+))?)","(/[^?#]*)","(\\?[^#]*|)","(#.*|)$"].join("")),c=a.match(b);return c&&{protocol:c[1],host:c[2],hostname:c[3],port:c[4],pathname:c[5],search:c[6],hash:c[7]}},b.executeFeatureCallback=function(a,b){var c=new XMLHttpRequest;c.open("GET",scnHeader.landscapeConfig.shareduiService+"/api/v1/features/"+a+"/state",!0),c.setRequestHeader("Accept","text/plain"),c.onreadystatechange=function(){if(4===this.readyState){var a=200===this.status?c.responseText:"OFF";b(a)}},c.send(null)},b.getStaticResourcesPathWithMinorVersion=function(){var a,b="script[src$='scn-header.min.js']";scnHeader.landscapeConfig.staticResources?(b+="[src^='"+scnHeader.landscapeConfig.staticResources+"']",a="latest"):a="";var c,d=document.querySelector(b);if(d){var e=new RegExp("(.*)shared-ui/"),f=e.exec(d.src);c=f.length>1?f[1]:scnHeader.landscapeConfig.staticResources+"/"+a}else c="";return c},b.decodeEntities=function(){function a(a){return a&&"string"==typeof a&&(a=a.replace(/</g,"&lt;"),a=a.replace(/>/g,"&gt;"),b.innerHTML=a,a=b.textContent,b.textContent=""),a}var b=document.createElement("textarea");return a}(),b.postMessageToOrigin=function(a){window.postMessage(JSON.stringify({message:a}),window.location.origin)},b.preventHandlerTriggerOnMobileScrolling=function(a,b){a.addEventListener("touchstart",function(){var c=function(d){b(d),a.removeEventListener("touchend",c)};a.addEventListener("touchend",c),a.addEventListener("touchmove",function b(){a.removeEventListener("touchend",c),a.removeEventListener("touchmove",b)})})}}(sharedUi),window.setCookie=sharedUi.Utils.setCookie,window.getCookie=sharedUi.Utils.getCookie,window.deleteCookie=sharedUi.Utils.deleteCookie,window.getViewportWidth=sharedUi.Utils.getViewportWidth,window.scnGetUrlParts=sharedUi.Utils.getUrlParts,function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a,window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,b){b=b||window;for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)})}();var scnHeader=function(){return{systemConfig:{},landscapeConfig:{},currentUser:{},args:{},init:function(a){this.args=a,this.setGlobalConfig(this.args.system,this.args),this.hasPersonalizedData()?(this.currentUser=this.args.user,this.hideAnonymousElements(),this.showPseudoAuthHeader(),sharedUi.Utils.postMessageToOrigin("universalHeaderUserAuthenticated")):(this.showAnonymousElements(),sharedUi.Utils.postMessageToOrigin("universalHeaderUserAnonymous"))},preAuthInit:function(a){this.args=a,this.setGlobalConfig(this.args.system,this.args),this.authenticateWithIFrame()},hasPersonalizedData:function(){return void 0!==this.args.user},populateLogOnLink:function(){var a=document.getElementById("comm-hdr-SignIn");a.setAttribute("title","Log On"),this.populateLogOnHref(a)},populateSubHeaderLogOnLink:function(){var a=document.querySelector(".dm-breadcrumb");if(a){var b=a.getElementsByClassName("dm-user__login-button--wrapper")[0];if(b){var c=b.getElementsByClassName("dm-button--primary")[0];this.populateLogOnHref(c)}}},populateLogOnHref:function(a){this.systemConfig.isLogOnPathRedirect?a.setAttribute("href",this.systemConfig.logOn+encodeURIComponent(location.pathname+location.search)):a.setAttribute("href",this.systemConfig.logOn)},populateLogOutLink:function(){var a=document.getElementById("comm-hdr-LogOut");null!==a&&(this.args.logout_url?a.setAttribute("href",this.args.logout_url.replace("amp;","")):this.systemConfig.isLogOutPathRedirect?a.setAttribute("href",this.systemConfig.logOut+encodeURIComponent(location.pathname+location.search)):a.setAttribute("href",this.systemConfig.logOut))},populateSearch:function(){if(this.landscapeConfig.search){document.querySelector("#comm-hdr-Search form").setAttribute("action",this.landscapeConfig.search);for(var a=document.querySelectorAll(".dm-mobileSearch form"),b=0;b<a.length;b++)a[b].setAttribute("action",this.landscapeConfig.search)}},populateAvatarIcon:function(){if(this.currentUser.username&&this.landscapeConfig.avatarLink){var a=document.querySelector("#comm-hdr-Avatar img"),b=document.querySelector("#comm-hdr-MenuAvatar img"),c=this.landscapeConfig.avatarLink.replace("%%%USERNAME%%%",this.currentUser.username);b.setAttribute("src",c),a.setAttribute("src",c),a.onload=function(){scnHeader._show(this)}}},populateUserName:function(){var a=this.currentUser.name;if(a){document.getElementById("comm-hdr-Username").innerText=a;var b=document.getElementById("comm-hdr-SignIn");b.setAttribute("title",a),b.setAttribute("href","#")}},populateEmail:function(){var a=this.currentUser.email;if(a){document.getElementById("comm-hdr-Email").innerText=a}},populateProfileLink:function(){if(document.getElementById("comm-hdr-UserProfileMenu")&&this.landscapeConfig.profileLink){var a=document.getElementById("comm-hdr-MenuAvatar");a.setAttribute("href",this.landscapeConfig.profileLink),a.setAttribute("target","_blank")}},populateNotificationsLink:function(){var a=this.landscapeConfig.notificationsLink;if(this.currentUser.username&&a){document.querySelector("#comm-hdr-Notifications a").setAttribute("href",a)}},populateProfileActivityLink:function(){if(this.currentUser.username&&this.landscapeConfig.activitystream){document.querySelector("#comm-hdr-Activities a").setAttribute("href",this.landscapeConfig.activitystream)}},populateUserProfileLink:function(){if(this.currentUser.username&&this.landscapeConfig.profileDashboardLink){document.querySelector("#comm-hdr-UserProfile a").setAttribute("href",this.landscapeConfig.profileDashboardLink)}},populateMissionsLink:function(){if(this.currentUser.username&&this.landscapeConfig.missionsLink){document.querySelector("#comm-hdr-Missions a").setAttribute("href",this.landscapeConfig.missionsLink)}},populateProfileMenu:function(){if(this.currentUser.username&&this.landscapeConfig.profileActions){var a=this.landscapeConfig.profileActions,b=this._createElement("ul",{class:"dm-profileMenu__list"});for(var c in a){var d=this._createElement("a",{href:a[c].url,class:"dm-profileMenu__link"},a[c].name),e=this._createElement("li",{class:"dm-profileMenu__item"},[d]);b.appendChild(e)}document.getElementById("comm-hdr-UserProfileActions").appendChild(b)}},populateProfileMenuSection:function(a,b){if(a&&Array.isArray(b)){var c=document.querySelector("#"+a+" ul");for(var d in b){var e=b[d],f=this._createElement("a",{href:e.url,class:"dm-profileMenu__link",target:e.target},e.name),g=this._createElement("li",{class:"dm-profileMenu__item"},[f]);if("Inbox"===e.name){var h=this._createElement("span",{class:"dm-header__profile-notifications dm-hidden js-notification-indicator"},"");g.appendChild(h)}c.appendChild(g)}}},populateProfileMenuTopSection:function(a){this.populateProfileMenuSection("comm-hdr-ProfileMenuTopSection",a)},populateProfileMenuMiddleSection:function(a){this.populateProfileMenuSection("comm-hdr-ProfileMenuMiddleSection",a)},hideAnonymousElements:function(){this.hideLogInElement(),this.hideSubHeaderLogInElement()},hideLogInElement:function(){var a=document.getElementById("comm-hdr-AnonymousIcon");this._hide(a)},hideSubHeaderLogInElement:function(){var a=document.querySelector(".dm-breadcrumb");a&&sharedUi.Utils.replaceClass(a,"dm-user--unauthenticated","dm-user--authenticated")},showAnonymousElements:function(){this.showLogInElement(),this.populateAnonymousLandscapeItems()},showLogInElement:function(){var a=document.getElementById("comm-hdr-AnonymousIcon");this._show(a)},showPseudoAuthHeader:function(){this.populateAuthLandscapeItems(),this.populateUserName(),this.populateEmail(),this.removeAttrRelFromProfileActions()},populateAnonymousLandscapeItems:function(){this.landscapeConfig.landscape&&this.systemConfig.systemName&&(this.populateCommonLandscapeItems(),this.populateLogOnLink(),this.populateSubHeaderLogOnLink(),this.populateRegistrationLink())},populateAuthLandscapeItems:function(){if(!this.landscapeConfig.populated&&this.currentUser.username&&this.landscapeConfig.landscape&&this.systemConfig.systemName){this.landscapeConfig.populated=!0,this.populateCommonLandscapeItems(),this.populateAvatarIcon();if(document.getElementById("comm-hdr-UserProfileActions"))this.populateProfileMenu();else{var a=this.landscapeConfig.profileMenu;this.currentUser.username&&a&&(this.populateProfileMenuTopSection(a.topSection),this.populateProfileMenuMiddleSection(a.middleSection))}this.populateProfileLink(),this.authenticateWithIFrame();document.getElementById("comm-hdr-UserProfileLinks")&&(this.populateUserProfileLink(),this.populateNotificationsLink(),this.populateProfileActivityLink(),this.populateMissionsLink()),this.populateLogOutLink()}},populateCommonLandscapeItems:function(){this.populateSearch()},removeAttrRelFromProfileActions:function(){document.getElementById("comm-hdr-SignIn").removeAttribute("rel")},authenticateWithIFrame:function(){if(!document.getElementById("authIFrame")&&!this.args.fallback){var a=document.createElement("iframe");a.style.display="none",a.id="authIFrame",a.src=this.landscapeConfig.header+"/protected.html",document.body.appendChild(a)}},populateNotificationsCount:function(a){for(var b=document.querySelectorAll(".js-notification-indicator"),c=0;c<b.length;c++)a&&a>0?this._show(b[c]):this._hide(b[c])},populateRegistrationLink:function(a){if(a)a.name=this.systemConfig.SP?this.systemConfig.SP:window.location.origin;else for(var b=document.querySelectorAll('a[rel="IDS_register"]'),c=0;c<b.length;c++)b[c].name=this.systemConfig.SP?this.systemConfig.SP:window.location.origin},setGlobalConfig:function(a,b){void 0===SCN_HEADER_CONF||this.systemConfig.systemName||(this.landscapeConfig=SCN_HEADER_CONF.landscape,this.systemConfig=SCN_HEADER_CONF.systems[a],this.systemConfig.landscapeOverwrites&&this._recursiveMerge(this.landscapeConfig,this.systemConfig.landscapeOverwrites),this.systemConfig.systemName=a)},_createElement:function(a,b,c){if(void 0===a)return!1;void 0===c&&(c="");var d=document.createElement(a);if("object"==typeof b)for(var e in b)d.setAttribute(e,b[e]);Array.isArray(c)||(c=[c]);for(var f=0;f<c.length;f++)c[f].tagName?d.appendChild(c[f]):d.appendChild(document.createTextNode(c[f]));return d},_hide:function(a){sharedUi.Utils.addClass(a,"dm-hidden")},_show:function(a){sharedUi.Utils.removeClass(a,"dm-hidden")},_recursiveMerge:function(a,b){for(var c in b)try{b[c].constructor==Object?a[c]=this._recursiveMerge(a[c],b[c]):a[c]=b[c]}catch(d){a[c]=b[c]}return a}}}();sharedUi.Utils.domReady(function(){if(!scnHeader.systemConfig.useJWT){var a=window.headerInitArgs?window.headerInitArgs:window.header_init_args,b=scnHeader.systemConfig.systemName;if(!b||scnHeader.systemConfig.authByHeader&&!scnHeader.hasPersonalizedData()){if(!a.user){var c=sharedUi.Utils.getCookie("userArgs");a.user=c?JSON.parse(c):void 0}b&&!a.user||scnHeader.init(a)}}}),window.addEventListener("message",function(a){try{var b=JSON.parse(a.data);if(b.message){if("authIFrameLoaded"===b.message){var c=JSON.stringify({message:"messageFromParent",headerHost:scnHeader.landscapeConfig.shareduiService,userAttrIsEmpty:!sharedUi.Utils.getCookie("userArgs")});a.source.postMessage(c,a.origin)}else if("newNotificationsCountLoaded"===b.message)scnHeader.populateNotificationsCount(b.count);else if("userAttrLoaded"===b.message){window.headerInitArgs.user={name:b.userAttr.firstname+" "+b.userAttr.lastname,username:b.userAttr.profileName,roles:b.userAttr.communityRoles,email:b.userAttr.email},sharedUi.Utils.setCookie("userArgs",JSON.stringify(window.headerInitArgs.user),{path:"/"}),scnHeader.init(window.headerInitArgs);var c=JSON.stringify({message:"messageFromParent",headerHost:scnHeader.landscapeConfig.shareduiService,userAttrIsEmpty:!1});a.source.postMessage(c,a.origin)}else if("userAttrLoadedError"===b.message&&b.noConsent){var d=scnHeader.landscapeConfig.consentPage;scnHeader.landscapeConfig.consentPageRedirectBackSupported?d+="?redirect_to="+encodeURIComponent(window.location.href):d+="?redirect_system="+scnHeader.systemConfig.systemName,window.location=d}var e=document.getElementById("ids_container");sharedUi.Utils.getCookie("userArgs")&&e&&(e.style.display="none")}}catch(a){}});var buildNavMenu=function(){var a=new XMLHttpRequest;a.open("GET",sharedUi.Utils.getStaticResourcesPathWithMinorVersion()+"shared-ui/1dx-assets/navigation.html5",!0),a.responseType="text",a.onload=function(a){if(4===this.readyState&&200===this.status){var b=document.querySelector("nav#comm-hdr-Navigation ul.dm-mainNav__menu");b.innerHTML=a.target.response;var c=new CustomEvent("communityHeaderNavigationLoaded");b.dispatchEvent(c)}},a.send()};sharedUi.Utils.domReady(function(){document.getElementById("comm-hdr-LogOut").onclick=function(){sharedUi.Utils.deleteCookie("userArgs",{path:"/"})},buildNavMenu()});var SCN_HEADER_CONF=SCN_HEADER_CONF||{};SCN_HEADER_CONF.systems={blogs:{logOn:"/wp-login.php?redirect_to=",isLogOnPathRedirect:!0,authByHeader:!1,logOut:"/wp-login.php?action=logout"},activityStream:{logOn:"/login",isLogOnPathRedirect:!1,authByHeader:!1,logOut:"/logout.html",SP:"https://hana.ondemand.com/skywalker",landscapeOverwrites:{shareduiService:"/securedheader",header:"/securedheader"},useJWT:!0},header:{logOn:"https://sharedui.services.sap.com/v2/protected.html",isLogOnPathRedirect:!1,authByHeader:!0,logOut:"/logout.html",SP:"https://hana.ondemand.com/skywalker"},headerapp:{logOn:"https://sharedui.services.sap.com/v2/protected.html",isLogOnPathRedirect:!1,authByHeader:!0,logOut:"https://sharedui.services.sap.com/v2/logout.html?ref=https://sharedui.services.sap.com/v2/",SP:"https://hana.ondemand.com/skywalker",useJWT:!0,landscapeOverwrites:{staticResources:""}},extarchive:{logOn:"https://sharedui.services.sap.com/v2/protected.html?ref=https://archive.sap.com/",isLogOnPathRedirect:!1,authByHeader:!0,logOut:"https://sharedui.services.sap.com/v2/logout.html?ref=https://archive.sap.com/",SP:"https://hana.ondemand.com/skywalker",useJWT:!0},answers:{logOn:"/users/login.html?redirect_to=",isLogOnPathRedirect:!0,authByHeader:!1,logOut:"/users/logout.html",landscapeOverwrites:{subHeaderActions:{additionalActions:{moderation:{url:"https://answers.sap.com/moderation/index.html"}}}}},people:{logOn:"/auth/login",isLogOnPathRedirect:!1,authByHeader:!1,logOut:"/auth/logout"},messages:{logOn:"/login",isLogOnPathRedirect:!1,authByHeader:!0,logOut:"/logout.html",SP:"https://hana.ondemand.com/skywalker",landscapeOverwrites:{shareduiService:"/securedheader",header:"/securedheader"}},"htone-community":{logOn:"/bin/fiji/es/login.search.html?_=nc",isLogOnPathRedirect:!1,authByHeader:!1,logOut:"/bin/fiji/es/logout.search.html?_=nc"},contentPages:{logOn:"https://sharedui.services.sap.com/v2/protected.html?ref=https://community.sap.com",isLogOnPathRedirect:!1,isLogOutPathRedirect:!0,authByHeader:!0,logOut:"https://sharedui.services.sap.com/v2/logout.html?ref=https://community.sap.com",SP:"https://hana.ondemand.com/skywalker",useJWT:!0}},SCN_HEADER_CONF.landscape={landscape:"PROD",profileActions:{askQuestion:{name:"Ask a Question",url:"https://answers.sap.com/questions/ask.html"},blogs:{name:"Write a Blog Post",url:"https://blogs.sap.com/wp-admin/post-new.php"},messaging:{name:"Send a Message",url:"https://messages.sap.com"}},profileMenu:{topSection:[{name:"My Profile",url:"https://people.sap.com",target:"_blank"},{name:"Account Settings",url:"https://people.sap.com/personal_info",target:"_blank"},{name:"Inbox",url:"https://people.sap.com/inbox",target:"_blank"}],middleSection:[{name:"Ask a Question",url:"https://answers.sap.com/questions/ask.html",target:"_self"},{name:"Write a Blog Post",url:"https://blogs.sap.com/wp-admin/post-new.php",target:"_self"},{name:"Activity Stream",url:"https://activities.sap.com",target:"_self"},{name:"Send a Message",url:"https://messages.sap.com",target:"_self"}]},consentLinks:{accountUrl:"https://people.sap.com/privacy"},subHeaderActions:{subnavigation:{askQuestion:{id:"comm-shdr-AskQuestion",name:"Ask a Question",url:"https://answers.sap.com/questions/ask.html"},writeBlogPost:{id:"comm-shdr-WriteBlogPost",name:"Write a Blog Post",url:"https://blogs.sap.com/wp-admin/post-new.php"}},standardActions:{startDiscussion:{id:"comm-shdr-StartDiscussion",name:"Start a Discussion",url:"https://answers.sap.com/articles/create.html",optional:!0},sendDirectMessage:{id:"comm-shdr-SendMessage",name:"Send a Message",url:"https://messages.sap.com"},manageBlogPosts:{id:"comm-shdr-ManageBlogPosts",name:"Manage My Blog Posts",url:"https://blogs.sap.com/wp-admin/edit.php?post_type=post&author=currentUser"}},additionalActions:{gettingStarted:{id:"comm-shdr-GetStarted",name:"Quick Start Guide",url:"https://community.sap.com/resources/getting-started"},moderation:{id:"comm-shdr-Moderation",name:"Moderation",url:"https://moderation.sap.com"},blogsAdministration:{id:"comm-shdr-Administration",name:"Administration",url:"https://blogs.sap.com/wp-admin"},answersAdministration:{id:"comm-shdr-Administration",name:"Administration",url:"https://answers.sap.com/admin/index.html"}}},defaultBreadcrumb:[{id:"comm-shdr-breadcrumb-home",url:"https://www.sap.com",name:"Home"},{id:"comm-shdr-breadcrumb-community",name:"Community",url:"https://community.sap.com"}],search:"https://search.sap.com/search.html",header:"https://sharedui.services.sap.com",activitystream:"https://activities.sap.com/#/activities",avatarLink:"https://avatars.services.sap.com/images/%%%USERNAME%%%.png",profileManageLink:"https://people.sap.com/#personal_info",profileDashboardLink:"https://people.sap.com/#dashboard",profileLink:"https://people.sap.com",community:"https://community.sap.com",missionsLink:"https://people.sap.com/#missions",notificationsLink:"https://people.sap.com/inbox",blogs:"https://blogs.sap.com",archive:"https://archive.sap.com",qa:"https://answers.sap.com",idsSapScript:"https://accounts.sap.com/ui/resources/javascripts/SAP_IDS.js",idsHost:"https://accounts.sap.com",shareduiService:"https://sharedui.services.sap.com",shareduiPublicService:"https://sharedui.services.sap.com",navJson:"https://www.sap.com/_jcr_content/parHeader/headerstandard.shared.json",sapcomCommunity:"https://www.sap.com/community.html",sapcom:"https://www.sap.com",staticResources:"https://static.community.services.sap/com-hdr/v4",consentPage:"https://consent.services.sap.com/consent",consentPageRedirectBackSupported:!0,activityStreamHome:"https://activities.sap.com"};